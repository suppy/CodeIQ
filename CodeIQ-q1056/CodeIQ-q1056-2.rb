# @tbpgr  tbpgrさんからの言語不問の問題
# PIの中にRaspberryはいくつ
# https://codeiq.jp/ace/tbpgr/q1056


# 処理開始時刻
t0 = Time.now
puts "処理開始時刻：#{t0}"
print "\n"

# 円周率の小数点以下 1,000 桁を変数に格納
pi = <<"PI"
1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989
PI
pi.strip!
#p pi.length

pi = File.open("pi.txt", "r").read
p pi.length


# アルファベット・インデックス表を作成
alphabet_index_table = {}
(0..('z'.ord - 'a'.ord)).each do |i|
  alphabet_index_table[("0" + i.to_s)[-2, 2]] = ('a'.ord + i).chr
end
#p alphabet_index_table

# カウントしたい文字を配列に格納
string = "raspberry"
characters = string.split('').uniq


# 円周率の小数点以下 1,000 桁をアルファベットに変換
#pi2alphabet = ""
count = 0
i = 0
while i < pi.length
  alphabet = alphabet_index_table[pi[i, 2]]
  if alphabet == nil
    i += 2
    next
  end
  characters.each do |character|
    #print "#{character}:#{alphabet}\n"
    if character == alphabet
      count += 1
      break
    end
  end
  break if count == 31415
  i += 2
end
p i
p count
exit

# カウントしたい文字の総和を計算
count = 0
characters.each do |character|
  count += pi2alphabet.count(character)
  #print "#{character}:#{pi2alphabet.count(character)}\n"
end
p count



# 処理終了時刻
t1 = Time.now
print "\n"
puts "処理終了時刻：#{t1}"

# 処理時間
puts "処理時間：#{t1 - t0} sec"
