for(i=0;i<7;i++)r[i]=(q[i]>3)?1:(q[i]>0)?0:(q[i-1]+q[i+1]>5)?1:0